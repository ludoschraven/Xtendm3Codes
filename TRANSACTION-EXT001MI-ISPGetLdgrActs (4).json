{"utilities":{},"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"ISPGetLdgrActs":{"sourceUuid":"f5df9ba5-1cd2-457c-aaef-ace499d78ca3","name":"ISPGetLdgrActs","program":"EXT001MI","description":"ALL_MI_0001_GetLedgerAccounts","active":true,"multi":true,"modified":1668280815747,"modifiedBy":"MALALS01","outputFields":[{"name":"RCTP","description":"Record Type","length":1,"mandatory":false,"type":"A"},{"name":"DIVI","description":"division","length":3,"mandatory":false,"type":"A"},{"name":"AITP","description":"accounting dimension","length":1,"mandatory":false,"type":"N"},{"name":"AITM","description":"accounting identity","length":10,"mandatory":false,"type":"A"},{"name":"TX40","description":"description","length":40,"mandatory":false,"type":"A"},{"name":"LCCD","description":"blocked accounting identity","length":1,"mandatory":false,"type":"N"},{"name":"VFDT","description":"valid from","length":8,"mandatory":false,"type":"N"},{"name":"VTDT","description":"valid to","length":8,"mandatory":false,"type":"N"},{"name":"MQCD","description":"quantity mandatory","length":1,"mandatory":false,"type":"N"},{"name":"ACR2","description":"ACR for accounting dimension 2","length":1,"mandatory":false,"type":"N"},{"name":"ACR3","description":"ACR for accounting dimension 3","length":1,"mandatory":false,"type":"N"},{"name":"ACR4","description":"ACR for accounting dimension 4","length":1,"mandatory":false,"type":"N"},{"name":"ACR5","description":"ACR for accounting dimension 5","length":1,"mandatory":false,"type":"N"},{"name":"ACR6","description":"ACR for accounting dimension 6","length":1,"mandatory":false,"type":"N"},{"name":"ACR7","description":"ACR for accounting dimension 7","length":1,"mandatory":false,"type":"N"},{"name":"AT04","description":"VAT account type","length":1,"mandatory":false,"type":"N"},{"name":"KV06","description":"Dimension","length":15,"mandatory":false,"type":"A"},{"name":"FV02","description":"Range","length":40,"mandatory":false,"type":"A"},{"name":"FV03","description":"From Value","length":40,"mandatory":false,"type":"A"},{"name":"FV04","description":"To Value","length":40,"mandatory":false,"type":"A"}],"inputFields":[{"name":"AITM","description":"accounting identity","length":10,"mandatory":false,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"f5df9ba5-1cd2-457c-aaef-ace499d78ca3":{"uuid":"f5df9ba5-1cd2-457c-aaef-ace499d78ca3","updated":1668280800117,"updatedBy":"MALALS01","created":1659704385276,"createdBy":"MALALS01","apiVersion":"0.14","beVersion":"16.0.0.20220817161547","codeHash":"6D6CB01C686640D5FDE1A9DDF3FF468F5634167FDB4B054442786DA23F8D050C","code":"LyoqDQogKiBOYW1lOiBJU1BHZXRMZGdyQWN0cw0KICogVHlwZSA6IEV4dGVuZE0zQVBJDQogKiBEZXNjcmlwdGlvbjogU2VuZCBTcGVjaWZpYyBNMyBnZW5lcmFsIGxlZGdlciBkZXRhaWxzIHRvIDNyZCBwYXJ0eSBhcHBsaWNhdGlvbg0KICogKg0KICogQ3JlYXRlZCBCeTogQXBleCBTeXN0ZW1zDQogKiBBdXRob3I6IFNoYXNoYW5rIE1hbGFsaSwgQW5naGVsbyBGZXJuYW5kZXoNCiAqDQogKiBIaXN0b3J5Og0KICogU2NyaXB0IGNyZWF0ZWQgaW4gMjAyMS4NCiAqIFNjcmlwdCBjaGFuZ2VkIG9uIDIwMjIwODA1DQogKiBDb2RlIGNsZWFuIHVwIGRvbmUgMjAyMjExMTINCiAqLw0KDQpwdWJsaWMgY2xhc3MgSVNQR2V0TGRnckFjdHMgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBTdHJpbmcgPiBsZWRnZXJBY2NvdW50VHlwZSA9IG51bGw7DQogIHByaXZhdGUgTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiBkaW1lbnNpb25NYXAgPSBudWxsOw0KICBwcml2YXRlIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcXVhbnRpdHlNYXAgPSBudWxsOw0KICBwcml2YXRlIE1hcCA8IFN0cmluZywgU3RyaW5nID4gdmF0UmFuZ2VNYXAgPSBudWxsOw0KICBwcml2YXRlIFN0cmluZyBDT05PID0gIiI7DQogIHByaXZhdGUgU3RyaW5nIGlucHV0QUlUTSA9ICIiOw0KICBwcml2YXRlIFN0cmluZyBpbnB1dERJVkkgPSAiIjsNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBIYXNodGFibGUgPiBsZWRnZXJBY2NvdW50cyA9IG51bGw7DQogIHByaXZhdGUgQXJyYXlMaXN0IDwgSGFzaHRhYmxlID4gYWNyTGlzdCA9IG51bGw7DQogIHByaXZhdGUgQXJyYXlMaXN0IDwgSGFzaHRhYmxlID4gdmF0UmFuZ2VMaXN0ID0gbnVsbDsNCiAgcHJpdmF0ZSBib29sZWFuIGlzRW5kT2ZGaWxlID0gZmFsc2U7DQoNCiAgcHVibGljIElTUEdldExkZ3JBY3RzKE1JQVBJIG1pLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcjsNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogIH0NCg0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIGlucHV0QUlUTSA9IG1pLmluRGF0YS5nZXQoJ0FJVE0nKTsNCiAgICBpbnB1dERJVkkgPSBtaS5pbkRhdGEuZ2V0KCdESVZJJyk7DQogICAgcG9wdWxhdGVSYW5nZU1hcHMoKTsNCiAgICBnZXRBbGxMZWRnZXJBY2NvdW50cygpOw0KICAgIGlmIChsZWRnZXJBY2NvdW50cy5zaXplIDwgMTAwMCkgew0KICAgICAgaXNFbmRPZkZpbGUgPSB0cnVlOw0KICAgIH0NCiAgICBpZiAoIWlucHV0QUlUTS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICBsZWRnZXJBY2NvdW50cy5yZW1vdmUoMCk7DQogICAgfQ0KICAgIGxlZGdlckFjY291bnRzLmVhY2ggew0KICAgICAgZWFjaEFjY291bnQgLT4NCiAgICAgICAgZmlsbEFDUkxpc3QoZWFjaEFjY291bnQpOw0KICAgICAgbWFwVmFsdWVzVG9JU1AoZWFjaEFjY291bnQpOw0KICAgICAgZmlsbEFDUlJhbmdlKGVhY2hBY2NvdW50KTsNCiAgICAgIGZpbGxWQVRSYW5nZShlYWNoQWNjb3VudCk7DQogICAgfQ0KICAgIGlmIChpc0VuZE9mRmlsZSkgew0KICAgICAgbWkub3V0RGF0YS5wdXQoJ1JDVFAnLCAnTCcpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ0FJVE0nLCAnJSVFT0YlJScpOw0KICAgICAgbWkud3JpdGUoKTsNCiAgICB9DQogIH0NCg0KICAvKiBDaGVjayBhbmQgcmV0cml2ZSBjb250cm9sIHByb3BlcnRpZXMgZnJvbSBDVUdFWDENCiAgICovDQoNCiAgcHVibGljIHBvcHVsYXRlUmFuZ2VNYXBzKCkgew0KICAgIENPTk8gPSBwcm9ncmFtLkxEQVpELmdldCgnQ09OTycpOw0KDQogICAgbGVkZ2VyQWNjb3VudFR5cGUgPSBuZXcgQXJyYXlMaXN0IDwgU3RyaW5nID4gKCk7DQogICAgYm9vbGVhbiByZWNvcmRFeGlzdHMgPSB0cnVlOw0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIGxlZGdlckFjdHMgPSByZXN1bHRzLmdldCgnQTEyMScpOw0KICAgICAgICBTdHJpbmdbXSBsZWRnZXJBY3RzQXJyYXkgPSBsZWRnZXJBY3RzLnNwbGl0KCc7Jyk7DQogICAgICAgIGxlZGdlckFjdHNBcnJheS5lYWNoIHsNCiAgICAgICAgICB2YWx1ZSAtPg0KICAgICAgICAgICAgU3RyaW5nIGxlZGdlckFjY291bnQgPSB2YWx1ZTsNCiAgICAgICAgICBsZWRnZXJBY2NvdW50VHlwZS5hZGQobGVkZ2VyQWNjb3VudC50cmltKCkpOw0KDQogICAgICAgIH0NCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBMRURHRVJBQ1RUWVBFIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgIH0NCiAgICBkZWYgcGFyYW1zID0gWyJGSUxFIjogIklTUEZJTEUiLCAiUEswMSI6ICJHRVRMRURHRVJBQ0NPVU5UUyIsICJQSzAyIjogIkxFREdFUkFDVFRZUEUiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zLCBjYWxsYmFjayk7DQoNCiAgICBkaW1lbnNpb25NYXAgPSBuZXcgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gKCk7DQoNCiAgICBkZWYgY2FsbGJhY2syID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgYWN0RGltZW5zaW9ucyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGFjdERpbWVuc2lvbnNBcnJheSA9IGFjdERpbWVuc2lvbnMuc3BsaXQoJzsnKTsNCiAgICAgICAgYWN0RGltZW5zaW9uc0FycmF5LmVhY2ggew0KICAgICAgICAgIHZhbHVlIC0+DQogICAgICAgICAgICBTdHJpbmcgYWN0RGltZW5zaW9uID0gdmFsdWU7DQogICAgICAgICAgZGltZW5zaW9uTWFwLnB1dChhY3REaW1lbnNpb24uc3Vic3RyaW5nKDAsIDEpLCBhY3REaW1lbnNpb24uc3Vic3RyaW5nKDIsIDMpKTsNCg0KICAgICAgICB9DQoNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLmVycm9yKCJQbGVhc2UgbWFpbnRhaW4gcmVjb3JkIGluIENVR0VYMSBmb3IgQUNURElNRU5TSU9OIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgIH0NCiAgICBkZWYgcGFyYW1zMiA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUTEVER0VSQUNDT1VOVFMiLCAiUEswMiI6ICJBQ1RESU1FTlNJT04iXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zMiwgY2FsbGJhY2syKTsNCg0KICAgIHF1YW50aXR5TWFwID0gbmV3IEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+ICgpOw0KDQogICAgZGVmIGNhbGxiYWNrMyA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIHF1YW50aXRpZXMgPSByZXN1bHRzLmdldCgnQTEyMScpOw0KICAgICAgICBTdHJpbmdbXSBxdWFudGl0eVZhbHVlQXJyYXkgPSBxdWFudGl0aWVzLnNwbGl0KCc7Jyk7DQogICAgICAgIHF1YW50aXR5VmFsdWVBcnJheS5lYWNoIHsNCiAgICAgICAgICB2YWx1ZSAtPg0KICAgICAgICAgICAgU3RyaW5nIHF1YW50aXR5VmFsdWUgPSB2YWx1ZTsNCiAgICAgICAgICBxdWFudGl0eU1hcC5wdXQocXVhbnRpdHlWYWx1ZS5zdWJzdHJpbmcoMCwgMSksIHF1YW50aXR5VmFsdWUuc3Vic3RyaW5nKDIsIDMpKTsNCiAgICAgICAgfQ0KDQogICAgICB9IGVsc2Ugew0KICAgICAgICBtaS5lcnJvcigiUGxlYXNlIG1haW50YWluIHJlY29yZCBpbiBDVUdFWDEgZm9yIFFVQU5USVRZIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgIH0NCiAgICBkZWYgcGFyYW1zMyA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUTEVER0VSQUNDT1VOVFMiLCAiUEswMiI6ICJRVUFOVElUWSJdOw0KICAgIG1pQ2FsbGVyLmNhbGwoIkNVU0VYVE1JIiwgIkdldEZpZWxkVmFsdWUiLCBwYXJhbXMzLCBjYWxsYmFjazMpOw0KDQogICAgdmF0UmFuZ2VNYXAgPSBuZXcgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gKCk7DQoNCiAgICBkZWYgY2FsbGJhY2s0ID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgdmF0UmFuZ2VzID0gcmVzdWx0cy5nZXQoJ0ExMjEnKTsNCiAgICAgICAgU3RyaW5nW10gdmF0UmFuZ2VBcnJheSA9IHZhdFJhbmdlcy5zcGxpdCgnOycpOw0KICAgICAgICB2YXRSYW5nZUFycmF5LmVhY2ggew0KICAgICAgICAgIHZhbHVlIC0+DQogICAgICAgICAgICBTdHJpbmcgdmF0UmFuZ2UgPSB2YWx1ZTsNCiAgICAgICAgICB2YXRSYW5nZU1hcC5wdXQodmF0UmFuZ2Uuc3Vic3RyaW5nKDAsIDEpLCB2YXRSYW5nZS5zdWJzdHJpbmcoMiwgMykpOw0KICAgICAgICB9DQoNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLmVycm9yKCJQbGVhc2UgbWFpbnRhaW4gcmVjb3JkIGluIENVR0VYMSBmb3IgVkFUUkFOR0UiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgfQ0KICAgIGRlZiBwYXJhbXM0ID0gWyJGSUxFIjogIklTUEZJTEUiLCAiUEswMSI6ICJHRVRMRURHRVJBQ0NPVU5UUyIsICJQSzAyIjogIlZBVFJBTkdFIl07DQogICAgbWlDYWxsZXIuY2FsbCgiQ1VTRVhUTUkiLCAiR2V0RmllbGRWYWx1ZSIsIHBhcmFtczQsIGNhbGxiYWNrNCk7DQoNCiAgfQ0KDQogIC8qKg0KICAgKiBnZXQgTTMgbGVkZ2VyIGFjY291bnQgdXNpbmcgQ1JTNjMwTUkuTHN0QWNjb3VudElEDQogICAqIA0KICAgKi8NCiAgcHVibGljIGdldEFsbExlZGdlckFjY291bnRzKCkgew0KICAgIGxlZGdlckFjY291bnRzID0gbmV3IEFycmF5TGlzdCA8IEhhc2h0YWJsZSA+ICgpOw0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZTsNCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIFN0cmluZyBBSVRQID0gcmVzdWx0cy5nZXQoJ0FJVFAnKTsNCiAgICAgICAgU3RyaW5nIEFUMDQgPSByZXN1bHRzLmdldCgnQVQwNCcpOw0KDQogICAgICAgIGlmIChBSVRQLnRyaW0oKS5lcXVhbHMoIjEiKSAmJiBsZWRnZXJBY2NvdW50VHlwZS5jb250YWlucyhBVDA0LnRyaW0oKSkpIHsNCiAgICAgICAgICBIYXNodGFibGUgYWNjb3VudCA9IG5ldyBIYXNodGFibGUoKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiRElWSSIsIHJlc3VsdHMuZ2V0KCdESVZJJykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBSVRQIiwgcmVzdWx0cy5nZXQoJ0FJVFAnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIkFJVE0iLCByZXN1bHRzLmdldCgnQUlUTScpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiVFg0MCIsIHJlc3VsdHMuZ2V0KCdUWDQwJykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJMQ0NEIiwgcmVzdWx0cy5nZXQoJ0xDQ0QnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIlZGRFQiLCByZXN1bHRzLmdldCgnVkZEVCcpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiVlREVCIsIHJlc3VsdHMuZ2V0KCdWVERUJykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBQ1IyIiwgcmVzdWx0cy5nZXQoJ0FDUjInKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIkFDUjMiLCByZXN1bHRzLmdldCgnQUNSMycpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiQUNSNCIsIHJlc3VsdHMuZ2V0KCdBQ1I0JykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBQ1I1IiwgcmVzdWx0cy5nZXQoJ0FDUjUnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIkFDUjYiLCByZXN1bHRzLmdldCgnQUNSNicpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiQUNSNyIsIHJlc3VsdHMuZ2V0KCdBQ1I3JykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBVDA0IiwgcmVzdWx0cy5nZXQoJ0FUMDQnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIkFDUlYiLCByZXN1bHRzLmdldCgnQUNSVicpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiTVFDRCIsIHJlc3VsdHMuZ2V0KCdNUUNEJykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBVDEzIiwgcmVzdWx0cy5nZXQoJ0FUMTMnKSk7DQogICAgICAgICAgbGVkZ2VyQWNjb3VudHMuYWRkKGFjY291bnQpOw0KDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtcyA9IFsiQUlUUCI6ICIxIiwgIkFJVE0iOiBpbnB1dEFJVE0sICJESVZJIjogaW5wdXRESVZJXTsNCiAgICBtaUNhbGxlci5zZXRMaXN0TWF4UmVjb3JkcygyMDAwMCk7DQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjMwTUkiLCAiTHN0QWNjb3VudElEIiwgcGFyYW1zLCBjYWxsYmFjayk7DQogICAgcmV0dXJuIHJlY29yZEV4aXN0czsNCg0KICB9DQoNCiAgcHVibGljIGZpbGxBQ1JMaXN0KEhhc2h0YWJsZSBhY2NvdW50KSB7DQogICAgYWNyTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBIYXNodGFibGUgPiAoKTsNCiAgICBTdHJpbmcgQUNSMiA9IGFjY291bnQuZ2V0KCJBQ1IyIik7DQogICAgU3RyaW5nIEFDUjMgPSBhY2NvdW50LmdldCgiQUNSMyIpOw0KICAgIFN0cmluZyBBQ1I0ID0gYWNjb3VudC5nZXQoIkFDUjQiKTsNCiAgICBTdHJpbmcgQUNSNSA9IGFjY291bnQuZ2V0KCJBQ1I1Iik7DQogICAgU3RyaW5nIEFDUjYgPSBhY2NvdW50LmdldCgiQUNSNiIpOw0KICAgIFN0cmluZyBBQ1I3ID0gYWNjb3VudC5nZXQoIkFDUjciKTsNCg0KICAgIGlmIChBQ1IyLmVxdWFscygiMiIpIHx8IEFDUjIuZXF1YWxzKCI0IikgfHwgQUNSMi5lcXVhbHMoIjYiKSkgew0KICAgICAgamF2YS51dGlsLkhhc2h0YWJsZSBhY3IgPSBuZXcgamF2YS51dGlsLkhhc2h0YWJsZSgpOw0KICAgICAgYWNyLnB1dCgiQUNSIiwgIjIiKTsNCiAgICAgIGFjci5wdXQoIlZhbHVlIiwgQUNSMik7DQogICAgICBhY3JMaXN0LmFkZChhY3IpOw0KICAgIH0NCiAgICBpZiAoQUNSMy5lcXVhbHMoIjIiKSB8fCBBQ1IzLmVxdWFscygiNCIpIHx8IEFDUjMuZXF1YWxzKCI2IikpIHsNCiAgICAgIGphdmEudXRpbC5IYXNodGFibGUgYWNyID0gbmV3IGphdmEudXRpbC5IYXNodGFibGUoKTsNCiAgICAgIGFjci5wdXQoIkFDUiIsICIzIik7DQogICAgICBhY3IucHV0KCJWYWx1ZSIsIEFDUjMpOw0KICAgICAgYWNyTGlzdC5hZGQoYWNyKTsNCiAgICB9DQogICAgaWYgKEFDUjQuZXF1YWxzKCIyIikgfHwgQUNSNC5lcXVhbHMoIjQiKSB8fCBBQ1I0LmVxdWFscygiNiIpKSB7DQogICAgICBqYXZhLnV0aWwuSGFzaHRhYmxlIGFjciA9IG5ldyBqYXZhLnV0aWwuSGFzaHRhYmxlKCk7DQogICAgICBhY3IucHV0KCJBQ1IiLCAiNCIpOw0KICAgICAgYWNyLnB1dCgiVmFsdWUiLCBBQ1I0KTsNCiAgICAgIGFjckxpc3QuYWRkKGFjcik7DQogICAgfQ0KICAgIGlmIChBQ1I1LmVxdWFscygiMiIpIHx8IEFDUjUuZXF1YWxzKCI0IikgfHwgQUNSNS5lcXVhbHMoIjYiKSkgew0KICAgICAgamF2YS51dGlsLkhhc2h0YWJsZSBhY3IgPSBuZXcgamF2YS51dGlsLkhhc2h0YWJsZSgpOw0KICAgICAgYWNyLnB1dCgiQUNSIiwgIjUiKTsNCiAgICAgIGFjci5wdXQoIlZhbHVlIiwgQUNSNSk7DQogICAgICBhY3JMaXN0LmFkZChhY3IpOw0KICAgIH0NCiAgICBpZiAoQUNSNi5lcXVhbHMoIjIiKSB8fCBBQ1I2LmVxdWFscygiNCIpIHx8IEFDUjYuZXF1YWxzKCI2IikpIHsNCiAgICAgIGphdmEudXRpbC5IYXNodGFibGUgYWNyID0gbmV3IGphdmEudXRpbC5IYXNodGFibGUoKTsNCiAgICAgIGFjci5wdXQoIkFDUiIsICI2Iik7DQogICAgICBhY3IucHV0KCJWYWx1ZSIsIEFDUjYpOw0KICAgICAgYWNyTGlzdC5hZGQoYWNyKTsNCiAgICB9DQogICAgaWYgKEFDUjcuZXF1YWxzKCIyIikgfHwgQUNSNy5lcXVhbHMoIjQiKSB8fCBBQ1I3LmVxdWFscygiNiIpKSB7DQogICAgICBqYXZhLnV0aWwuSGFzaHRhYmxlIGFjciA9IG5ldyBqYXZhLnV0aWwuSGFzaHRhYmxlKCk7DQogICAgICBhY3IucHV0KCJBQ1IiLCAiNyIpOw0KICAgICAgYWNyLnB1dCgiVmFsdWUiLCBBQ1I3KTsNCiAgICAgIGFjckxpc3QuYWRkKGFjcik7DQogICAgfQ0KICAgIC8vCW1pLm91dERhdGEucHV0KCdSQ1RQJywnVCcpDQogICAgLy8JbWkub3V0RGF0YS5wdXQoJ1RYNDAnLCAnJysgYWNyTGlzdCk7DQogICAgLy8JbWkud3JpdGUoKTsNCg0KICB9DQoNCiAgLyogU2VuZCBkYXRhIHRvIG91dHB1dA0KICAgKi8NCg0KICBwdWJsaWMgbWFwVmFsdWVzVG9JU1AoSGFzaHRhYmxlIGFjY291bnQpIHsNCiAgICBTdHJpbmcgRElWSSA9IGFjY291bnQuZ2V0KCJESVZJIik7DQogICAgU3RyaW5nIEFJVFAgPSBhY2NvdW50LmdldCgiQUlUUCIpOw0KICAgIFN0cmluZyBBSVRNID0gYWNjb3VudC5nZXQoIkFJVE0iKTsNCiAgICBTdHJpbmcgVFg0MCA9IGFjY291bnQuZ2V0KCJUWDQwIik7DQogICAgU3RyaW5nIExDQ0QgPSBhY2NvdW50LmdldCgiTENDRCIpOw0KICAgIFN0cmluZyBWRkRUID0gYWNjb3VudC5nZXQoIlZGRFQiKTsNCiAgICBTdHJpbmcgVlREVCA9IGFjY291bnQuZ2V0KCJWVERUIik7DQogICAgU3RyaW5nIEFDUjIgPSBhY2NvdW50LmdldCgiQUNSMiIpOw0KICAgIFN0cmluZyBBQ1IzID0gYWNjb3VudC5nZXQoIkFDUjMiKTsNCiAgICBTdHJpbmcgQUNSNCA9IGFjY291bnQuZ2V0KCJBQ1I0Iik7DQogICAgU3RyaW5nIEFDUjUgPSBhY2NvdW50LmdldCgiQUNSNSIpOw0KICAgIFN0cmluZyBBQ1I2ID0gYWNjb3VudC5nZXQoIkFDUjYiKTsNCiAgICBTdHJpbmcgQUNSNyA9IGFjY291bnQuZ2V0KCJBQ1I3Iik7DQogICAgU3RyaW5nIEFUMDQgPSBhY2NvdW50LmdldCgiQVQwNCIpOw0KICAgIFN0cmluZyBBQ1JWID0gYWNjb3VudC5nZXQoIkFDUlYiKTsNCiAgICBTdHJpbmcgTVFDRCA9IGFjY291bnQuZ2V0KCJNUUNEIik7DQogICAgU3RyaW5nIEFUMTMgPSBhY2NvdW50LmdldCgiQVQxMyIpOw0KDQogICAgQUNSMiA9IGRpbWVuc2lvbk1hcC5nZXQoQUNSMikgPT0gbnVsbCA/ICIiIDogZGltZW5zaW9uTWFwLmdldChBQ1IyKTsNCiAgICBBQ1IzID0gZGltZW5zaW9uTWFwLmdldChBQ1IzKSA9PSBudWxsID8gIiIgOiBkaW1lbnNpb25NYXAuZ2V0KEFDUjMpOw0KICAgIEFDUjQgPSBkaW1lbnNpb25NYXAuZ2V0KEFDUjQpID09IG51bGwgPyAiIiA6IGRpbWVuc2lvbk1hcC5nZXQoQUNSNCk7DQogICAgQUNSNSA9IGRpbWVuc2lvbk1hcC5nZXQoQUNSNSkgPT0gbnVsbCA/ICIiIDogZGltZW5zaW9uTWFwLmdldChBQ1I1KTsNCiAgICBBQ1I2ID0gZGltZW5zaW9uTWFwLmdldChBQ1I2KSA9PSBudWxsID8gIiIgOiBkaW1lbnNpb25NYXAuZ2V0KEFDUjYpOw0KICAgIEFDUjcgPSBkaW1lbnNpb25NYXAuZ2V0KEFDUjcpID09IG51bGwgPyAiIiA6IGRpbWVuc2lvbk1hcC5nZXQoQUNSNyk7DQogICAgTVFDRCA9IHF1YW50aXR5TWFwLmdldChNUUNEKSA9PSBudWxsID8gIiIgOiBxdWFudGl0eU1hcC5nZXQoTVFDRCk7DQogICAgQVQwNCA9IHZhdFJhbmdlTWFwLmdldChBVDA0KSA9PSBudWxsID8gIjAiIDogdmF0UmFuZ2VNYXAuZ2V0KEFUMDQpOw0KICAgIGlmIChMQ0NELmVxdWFscygnMCcpICYmIEFUMTMuZXF1YWxzKCcwJykpIHsNCiAgICAgIG1pLm91dERhdGEucHV0KCdSQ1RQJywgJ0gnKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdESVZJJywgRElWSSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQUlUUCcsIEFJVFApOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ0FJVE0nLCBBSVRNKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdUWDQwJywgVFg0MCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnTENDRCcsIExDQ0QpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ1ZGRFQnLCBWRkRUKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdWVERUJywgVlREVCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQUNSMicsIEFDUjIpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ0FDUjMnLCBBQ1IzKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdBQ1I0JywgQUNSNCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQUNSNScsIEFDUjUpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ0FDUjYnLCBBQ1I2KTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdBQ1I3JywgQUNSNyk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQVQwNCcsIEFUMDQpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ01RQ0QnLCBNUUNEKTsNCiAgICAgIG1pLndyaXRlKCk7DQogICAgfQ0KICB9DQoNCiAgLyogUmV0cml2ZSBhZGRpdGlvbmFsIGRldGFpbHMgZnJvbSB0YWJsZSBGQ0hDSEsNCiAgICovDQoNCiAgcHVibGljIGZpbGxBQ1JSYW5nZShIYXNodGFibGUgYWNjb3VudCkgew0KICAgIFN0cmluZyBESVZJID0gYWNjb3VudC5nZXQoJ0RJVkknKTsNCiAgICBTdHJpbmcgQUlUUCA9IGFjY291bnQuZ2V0KCdBSVRQJyk7DQogICAgU3RyaW5nIEFJVE0gPSBhY2NvdW50LmdldCgnQUlUTScpOw0KICAgIFN0cmluZyBLVjA2ID0gIiI7DQogICAgU3RyaW5nIEtWMDcgPSAiIjsNCg0KICAgIGFjckxpc3QuZWFjaCB7DQogICAgICB2YWx1ZSAtPg0KICAgICAgICBIYXNodGFibGUgYWNyUmFuZ2VUYWJsZSA9IHZhbHVlOw0KICAgICAgS1YwNiA9IGFjclJhbmdlVGFibGUuZ2V0KCdBQ1InKTsNCiAgICAgIEtWMDcgPSBhY3JSYW5nZVRhYmxlLmdldCgnVmFsdWUnKTsNCg0KICAgICAgREJBY3Rpb24gcXVlcnlGQ0hDSEsgPSBkYXRhYmFzZS50YWJsZSgiRkNIQ0hLIikNCiAgICAgICAgLmluZGV4KCIwMCIpDQogICAgICAgIC5zZWxlY3Rpb24oIkVDQ09OTyIsICJFQ0RJVkkiLCAiRUNBSVRQIiwgIkVDQUlUTSIsICJFQ0NIUFUiLCAiRUNBSVRWIiwgIkVDQUNSQyIsICJFQ1JMSU4iLCAiRUNBSVRGIiwgIkVDQUlUVCIsICJFQ0FJVFYiKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciByZWNvcmRGQ0hDSEsgPSBxdWVyeUZDSENISy5nZXRDb250YWluZXIoKQ0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNDT05PIiwgQ09OTy50b0ludGVnZXIoKSk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0RJVkkiLCBESVZJKTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQUlUUCIsIEFJVFAudG9JbnRlZ2VyKCkpOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNBSVRNIiwgQUlUTSk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0NIUFUiLCAxKTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQUlUViIsIEtWMDYudG9JbnRlZ2VyKCkpOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNBQ1JDIiwgS1YwNy50b0ludGVnZXIoKSk7DQoNCiAgICAgIG1pLm91dERhdGEucHV0KCdBSVRNJywgYWNjb3VudC5nZXQoJ0FJVE0nKS50b1N0cmluZygpKTsNCiAgICAgIC8vIHJlYWQgbG9jayBhbmQgY2FsbCBjcmVhdGVSZWNvcmRzKCkNCiAgICAgIGludCByZWFkcyA9IHF1ZXJ5RkNIQ0hLLnJlYWRBbGwocmVjb3JkRkNIQ0hLLCA3LCBnZXRGQ0hDSEtSZWNvcmRzKTsNCg0KICAgIH0NCiAgICBhY3JMaXN0LmNsZWFyKCk7DQoNCiAgfQ0KICBDbG9zdXJlIDwgPyA+IGdldEZDSENIS1JlY29yZHMgPSB7DQogICAgREJDb250YWluZXIgcmVjb3JkIC0+DQogICAgU3RyaW5nIEZWMDIgPSByZWNvcmQuZ2V0KCdFQ1JMSU4nKTsNCiAgICBTdHJpbmcgRlYwMyA9IHJlY29yZC5nZXQoJ0VDQUlURicpOw0KICAgIFN0cmluZyBGVjA0ID0gcmVjb3JkLmdldCgnRUNBSVRUJyk7DQogICAgU3RyaW5nIEtWMDYgPSByZWNvcmQuZ2V0KCdFQ0FJVFYnKTsNCiAgICBTdHJpbmcgRElWSSA9IHJlY29yZC5nZXQoJ0VDRElWSScpOw0KICAgIFN0cmluZyBBSVRQID0gcmVjb3JkLmdldCgnRUNBSVRQJyk7DQoNCiAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdSJyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0RJVkknLCBESVZJKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnQUlUUCcsIEFJVFApOw0KICAgIG1pLm91dERhdGEucHV0KCdLVjA2JywgS1YwNik7DQogICAgbWkub3V0RGF0YS5wdXQoJ0ZWMDInLCBGVjAyKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnRlYwMycsIEZWMDMpOw0KICAgIG1pLm91dERhdGEucHV0KCdGVjA0JywgRlYwNCk7DQogICAgbWkud3JpdGUoKTsNCiAgfQ0KDQogIC8qIFJldHJpdmUgYWRkaXRpb25hbCBkZXRhaWxzIGZyb20gdGFibGUgRkNIQ0hLDQogICAqLw0KICBwdWJsaWMgZmlsbFZBVFJhbmdlKEhhc2h0YWJsZSBhY2NvdW50KSB7DQogICAgdmF0UmFuZ2VMaXN0ID0gbmV3IEFycmF5TGlzdCA8IEhhc2h0YWJsZSA+ICgpOw0KICAgIFN0cmluZyBBQ1JWID0gYWNjb3VudC5nZXQoJ0FDUlYnKTsNCiAgICBTdHJpbmcgRElWSSA9IGFjY291bnQuZ2V0KCdESVZJJyk7DQogICAgU3RyaW5nIEFJVFAgPSBhY2NvdW50LmdldCgnQUlUUCcpOw0KICAgIFN0cmluZyBBSVRNID0gYWNjb3VudC5nZXQoJ0FJVE0nKTsNCg0KICAgIGlmIChBQ1JWLnRyaW0oKS5lcXVhbHMoIjQiKSkgew0KDQogICAgICBEQkFjdGlvbiBxdWVyeUZDSENISyA9IGRhdGFiYXNlLnRhYmxlKCJGQ0hDSEsiKQ0KICAgICAgICAuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJFQ0NPTk8iLCAiRUNESVZJIiwgIkVDQUlUUCIsICJFQ0FJVE0iLCAiRUNDSFBVIiwgIkVDQUlUViIsICJFQ0FDUkMiLCAiRUNBSVRWIiwgIkVDUkxJTiIsICJFQ1ZUQ0YiLCAiRUNWVENUIikuYnVpbGQoKQ0KICAgICAgREJDb250YWluZXIgcmVjb3JkRkNIQ0hLID0gcXVlcnlGQ0hDSEsuZ2V0Q29udGFpbmVyKCkNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQ09OTyIsIENPTk8udG9JbnRlZ2VyKCkpOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNESVZJIiwgRElWSSk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0FJVFAiLCBBSVRQLnRvSW50ZWdlcigpKTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQUlUTSIsIEFJVE0pOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNDSFBVIiwgMSk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0FJVFYiLCA4KTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQUNSQyIsIEFDUlYudG9JbnRlZ2VyKCkpOw0KDQogICAgICAvLyByZWFkIGxvY2sgYW5kIGNhbGwgY3JlYXRlUmVjb3JkcygpDQogICAgICBpbnQgcmVhZHMgPSBxdWVyeUZDSENISy5yZWFkQWxsKHJlY29yZEZDSENISywgNywgZ2V0RkNIQ0hLUmVjb3JkczIpOw0KDQogICAgfQ0KICB9DQoNCiAgQ2xvc3VyZSA8ID8gPiBnZXRGQ0hDSEtSZWNvcmRzMiA9IHsNCiAgICBEQkNvbnRhaW5lciByZWNvcmQgLT4NCiAgICBTdHJpbmcgRlYwMSA9IHJlY29yZC5nZXQoIkVDQUlUViIpID09IG51bGwgPyAiIiA6IHJlY29yZC5nZXQoIkVDQUlUViIpOw0KICAgIFN0cmluZyBGVjAyID0gcmVjb3JkLmdldCgiRUNSTElOIikgPT0gbnVsbCA/ICIiIDogcmVjb3JkLmdldCgiRUNSTElOIik7DQogICAgU3RyaW5nIEZWMDUgPSByZWNvcmQuZ2V0KCJFQ1ZUQ0YiKSA9PSBudWxsID8gIjAwIiA6IHJlY29yZC5nZXQoIkVDVlRDRiIpOw0KICAgIFN0cmluZyBGVjA2ID0gcmVjb3JkLmdldCgiRUNWVENUIikgPT0gbnVsbCA/ICIwMCIgOiByZWNvcmQuZ2V0KCJFQ1ZUQ1QiKTsNCiAgICBTdHJpbmcgQUlUTSA9IHJlY29yZC5nZXQoIkVDQUlUTSIpID09IG51bGwgPyAiIiA6IHJlY29yZC5nZXQoIkVDQUlUTSIpOw0KICAgIFN0cmluZyBESVZJID0gcmVjb3JkLmdldCgiRUNESVZJIikgPT0gbnVsbCA/ICIiIDogcmVjb3JkLmdldCgiRUNESVZJIik7DQogICAgU3RyaW5nIEFJVFAgPSByZWNvcmQuZ2V0KCJFQ0FJVFAiKSA9PSBudWxsID8gIiIgOiByZWNvcmQuZ2V0KCJFQ0FJVFAiKTsNCiAgICAvLyBpZihBSVRNIT1udWxsICYmIEZWMDEhPW51bGwgJiYgQUlUTS50cmltKCkuZXF1YWxzKEZWMDEudHJpbSgpKSl7DQoNCiAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdWJyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0RJVkknLCBESVZJKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnQUlUUCcsIEFJVFApOw0KICAgIG1pLm91dERhdGEucHV0KCdBSVRNJywgQUlUTSk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0tWMDYnLCAiOCIpOw0KICAgIG1pLm91dERhdGEucHV0KCdGVjAyJywgRlYwMik7DQogICAgbWkub3V0RGF0YS5wdXQoJ0ZWMDMnLCBGVjA1KTsNCiAgICBtaS5vdXREYXRhLnB1dCgnRlYwNCcsIEZWMDYpOw0KICAgIG1pLndyaXRlKCk7DQogICAgLy8gfSANCiAgfQ0KfQ=="}}}