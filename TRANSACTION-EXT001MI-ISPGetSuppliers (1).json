{"utilities":{},"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"ISPGetSuppliers":{"sourceUuid":"2a01a64a-904e-40cf-814d-6eed84d468ea","name":"ISPGetSuppliers","program":"EXT001MI","description":"ALL_MI_0001_GetSuppliers","active":true,"multi":true,"modified":1668253304795,"modifiedBy":"MALALS01","outputFields":[{"name":"RCTP","description":"Record Type","length":1,"mandatory":false,"type":"A"},{"name":"DIVI","description":"division","length":3,"mandatory":false,"type":"A"},{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"SUNM","description":"supplier name","length":36,"mandatory":false,"type":"A"},{"name":"PHNO","description":"telephone number 1","length":16,"mandatory":false,"type":"A"},{"name":"TEPY","description":"payment terms","length":3,"mandatory":false,"type":"A"},{"name":"TECD","description":"cash discount term","length":3,"mandatory":false,"type":"A"},{"name":"PYME","description":"payment method - accounts payable","length":3,"mandatory":false,"type":"A"},{"name":"VTCD","description":"VAT code","length":2,"mandatory":false,"type":"N"},{"name":"CSCD","description":"country","length":3,"mandatory":false,"type":"A"},{"name":"STAT","description":"status","length":2,"mandatory":false,"type":"A"},{"name":"VRNO","description":"VAT registration number","length":16,"mandatory":false,"type":"A"},{"name":"EMAL","description":"email address","length":60,"mandatory":false,"type":"A"},{"name":"PRSU","description":"payee","length":10,"mandatory":false,"type":"A"},{"name":"SUCM","description":"supplier computer communication address","length":20,"mandatory":false,"type":"A"},{"name":"ADR1","description":"address line 1","length":36,"mandatory":false,"type":"A"},{"name":"ADR2","description":"address line 2","length":36,"mandatory":false,"type":"A"},{"name":"ADR3","description":"address line 3","length":36,"mandatory":false,"type":"A"},{"name":"ADR4","description":"address line 4","length":36,"mandatory":false,"type":"A"},{"name":"ASCD","description":"CSCD Address","length":3,"mandatory":false,"type":"A"},{"name":"PONO","description":"Postal code","length":10,"mandatory":false,"type":"A"},{"name":"EDES","description":"place","length":10,"mandatory":false,"type":"A"},{"name":"TOWN","description":"city","length":20,"mandatory":false,"type":"A"},{"name":"ECAR","description":"state","length":2,"mandatory":false,"type":"A"},{"name":"IAPC","description":"invoice approval condition 1","length":1,"mandatory":false,"type":"N"},{"name":"BDIV","description":"Bank Division","length":3,"mandatory":false,"type":"A"},{"name":"BKID","description":"bank account identity","length":5,"mandatory":false,"type":"A"},{"name":"BAF1","description":"bank account field 1","length":15,"mandatory":false,"type":"A"},{"name":"FIAN","description":"account number at financial institution","length":25,"mandatory":false,"type":"A"},{"name":"IBAN","description":"international bank account number","length":34,"mandatory":false,"type":"A"},{"name":"CBPY","description":"bank priority","length":2,"mandatory":false,"type":"N"},{"name":"BKST","description":"Bank Status","length":2,"mandatory":false,"type":"A"}],"inputFields":[{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"2a01a64a-904e-40cf-814d-6eed84d468ea":{"uuid":"2a01a64a-904e-40cf-814d-6eed84d468ea","updated":1668253295643,"updatedBy":"MALALS01","created":1652953871023,"createdBy":"MALALS01","apiVersion":"0.14","beVersion":"16.0.0.20220817161547","codeHash":"44000BDCBD99F64D9D8443691C946523F886988F0EFECCAD8708F5945E5A18CC","code":"LyoqDQogKiBOYW1lOiBJU1BHZXRTdXBwbGllcnMNCiAqIFR5cGUgOiBFeHRlbmRNM0FQSQ0KICogRGVzY3JpcHRpb246IFNlbmQgTTMgU3VwcGxpZXIgZGV0YWlscyAoQmFzaWMgZGV0YWlscywgYWRkcmVzcyBkZXRhaWxzLCBlbWFpbCBhZGRyZXNzLCBCYW5rIERldGFpbHMpIHRvIDNyZCBwYXJ0eSBhcHBsaWNhdGlvbg0KICogKg0KICogQ3JlYXRlZCBCeTogQXBleCBzeXN0ZW1zDQogKiBBdXRob3I6IFNoYXNoYW5rIE1hbGFsaSwgQW5naGVsbyBGZXJuYW5kZXoNCiAqDQogKiBIaXN0b3J5Og0KICogMjAyMi0wNS0xOTogQmFzZSBzY3JpcHQgY3JlYXRlZA0KICogMjAyMjExMTIgQ29kZSBjbGVhbiB1cA0KICoNCiAqLw0KDQpwdWJsaWMgY2xhc3MgSVNQR2V0U3VwcGxpZXJzIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOw0KICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyOw0KICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXI7DQogIHByaXZhdGUgU3RyaW5nIERpdmlzaW9uTGlzdCA9ICIiOw0KICBwcml2YXRlIFN0cmluZyBTdGF0dXNMaXN0ID0gIiI7IC8vQSAyMDIyMDIyOA0KICBwcml2YXRlIFN0cmluZyBBY3RpdmVTdXBwbGllciA9ICIiDQogIHByaXZhdGUgU3RyaW5nIEFjdGl2ZVN1cHBsaWVybmFtZSA9ICIiDQogIHByaXZhdGUgU3RyaW5nIENPTk8gPSAiIjsNCiAgcHJpdmF0ZSBTdHJpbmcgRlJTVSA9ICIiOw0KICBwcml2YXRlIEFycmF5TGlzdCA8IFN0cmluZyA+IGJhbmtBY2NvdW50U3RhdHVzTGlzdCA9IG51bGw7DQogIHByaXZhdGUgQXJyYXlMaXN0IDwgU3RyaW5nID4gZXhjbHVkZWRBY2NvdW50c0xpc3QgPSBudWxsOw0KICBwcml2YXRlIEFycmF5TGlzdCA8IFN0cmluZyA+IGFkZHJlc3NUeXBlc0xpc3QgPSBudWxsOw0KICBwcml2YXRlIEFycmF5TGlzdCA8IFN0cmluZyA+IGFkZHJlc3NJZHNMaXN0ID0gbnVsbDsNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBIYXNodGFibGUgPiBzdXBwbGllckxpc3QgPSBudWxsOw0KICBwcml2YXRlIEFycmF5TGlzdCA8IEhhc2h0YWJsZSA+IEFkZHJlc3NMaXN0ID0gbnVsbDsNCiAgcHJpdmF0ZSBTdHJpbmcgU1RBVCA9ICIiLCBQSE5PID0gIiIsIENTQ0QgPSAiIiwgVlJOTyA9ICIiLCBTVUNNID0gIiIsIFZUQ0QgPSAiIiwgVEVQWSA9ICIiLCBQWU1FID0gIiIsIFBSU1UgPSAiIiwgVEVDRCA9ICIiLCBJQVBDID0gIiIsIEVNQUwgPSAiIjsNCiAgcHJpdmF0ZSBTdHJpbmcgQURSMSA9ICIiLCBBRFIyID0gIiIsIEFEUjMgPSAiIiwgQURSNCA9ICIiLCBUT1dOID0gIiIsIEVDQVIgPSAiIiwgUE9OTyA9ICIiLCBBU0NEID0gIiIsIEVERVMgPSAiIjsNCiAgcHJpdmF0ZSBib29sZWFuIGVuZE9mTGlzdCA9IGZhbHNlOw0KDQogIHB1YmxpYyBJU1BHZXRTdXBwbGllcnMoTUlBUEkgbWksIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIExvZ2dlckFQSSBsb2dnZXIpIHsNCiAgICB0aGlzLm1pID0gbWk7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXI7DQogICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7DQogIH0NCg0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIERpdmlzaW9uTGlzdCA9IG1pLmluRGF0YS5nZXQoJ0RJVkknKTsNCiAgICBDT05PID0gcHJvZ3JhbS5MREFaRC5nZXQoJ0NPTk8nKTsNCiAgICBGUlNVID0gbWkuaW5EYXRhLmdldCgnU1VOTycpOw0KICAgIHBvcHVsYXRlQ29udHJvbFByb3BlcnRpZXMoKTsNCiAgICBnYXRoZXJBbGxTdXBwbGllcnMoKTsNCiAgICBpZiAoc3VwcGxpZXJMaXN0LnNpemUgPCAyMDApIHsNCiAgICAgIGVuZE9mTGlzdCA9IHRydWU7DQogICAgfQ0KICAgIGlmICghRlJTVS50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICBzdXBwbGllckxpc3QucmVtb3ZlKDApOw0KICAgIH0NCiAgICBpZiAoc3VwcGxpZXJMaXN0LnNpemUgPiAyMDApIHsNCiAgICAgIHN1cHBsaWVyTGlzdC5zaXplID0gMjAwOw0KICAgIH0NCg0KICAgIHN1cHBsaWVyTGlzdC5lYWNoIHsNCiAgICAgIHZhbHVlIC0+DQogICAgICAgIEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIgPSB2YWx1ZTsNCiAgICAgIGNsZWFyU3VwcGxpZXJEZXRhaWxzVmFyaWFibGVzKCk7DQogICAgICBnZXRTdXBwbGllckRldGFpbHMoZWFjaFN1cHBsaWVyKTsNCiAgICAgIGdldFN1cHBsaWVyRW1haWwoZWFjaFN1cHBsaWVyKTsNCiAgICAgIGdldFN1cHBsaWVyQWRkcmVzcyhlYWNoU3VwcGxpZXIpOw0KDQogICAgICBzZXRhZGRyZXNzKCk7DQoNCiAgICAgIHdyaXRlU3VwcGxpZXJUb091dHB1dChlYWNoU3VwcGxpZXIpOw0KICAgICAgZ2V0QmFua0RldGFpbHMoZWFjaFN1cHBsaWVyKTsNCg0KICAgIH0NCiAgICBpZiAoZW5kT2ZMaXN0KSB7DQogICAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdMJyk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnU1VOTycsICclJUVPRiUlJyk7DQogICAgICBtaS53cml0ZSgpOw0KICAgIH0NCg0KICB9DQoNCiAgLyoqDQogICAqIEdldCBDb250cm9sIHByb3BlcmllcyBmcm9tIENVR0VYMQ0KICAgKiANCiAgICovDQogIHB1YmxpYyBwb3B1bGF0ZUNvbnRyb2xQcm9wZXJ0aWVzKCkgew0KICAgIGJhbmtBY2NvdW50U3RhdHVzTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBTdHJpbmcgPiAoKTsNCiAgICBib29sZWFuIHJlY29yZEV4aXN0cyA9IHRydWU7DQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgYmFua0FjY291bnRTdGF0dXNlcyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGJhbmtBY2NvdW50U3RhdHVzQXJyYXkgPSBiYW5rQWNjb3VudFN0YXR1c2VzLnNwbGl0KCc7Jyk7DQogICAgICAgIGJhbmtBY2NvdW50U3RhdHVzQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyBiYW5rQWNjb3VudFN0YXR1cyA9IHZhbHVlOw0KICAgICAgICAgIGJhbmtBY2NvdW50U3RhdHVzTGlzdC5hZGQoYmFua0FjY291bnRTdGF0dXMudHJpbSgpKTsNCg0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBtaS5lcnJvcigiUGxlYXNlIG1haW50YWluIHJlY29yZCBpbiBDVUdFWDEgZm9yIEJBTktBQ0NPVU5UU1RBVFVTIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtcyA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUU1VQUExJRVJTIiwgIlBLMDIiOiAiQkFOS0FDQ09VTlRTVEFUVVMiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zLCBjYWxsYmFjayk7DQoNCiAgICBleGNsdWRlZEFjY291bnRzTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBTdHJpbmcgPiAoKTsNCiAgICBkZWYgY2FsbGJhY2syID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgZXhjbHVkZWRBY2NvdW50cyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGV4Y2x1ZGVkQWNjb3VudHNBcnJheSA9IGV4Y2x1ZGVkQWNjb3VudHMuc3BsaXQoJzsnKTsNCiAgICAgICAgZXhjbHVkZWRBY2NvdW50c0FycmF5LmVhY2ggew0KICAgICAgICAgIHZhbHVlIC0+DQogICAgICAgICAgICBTdHJpbmcgZXhjbHVkZWRBY2NvdW50ID0gdmFsdWU7DQogICAgICAgICAgZXhjbHVkZWRBY2NvdW50c0xpc3QuYWRkKGV4Y2x1ZGVkQWNjb3VudCk7DQoNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBFWENMVURFREFDQ09VTlRTIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtczIgPSBbIkZJTEUiOiAiSVNQRklMRSIsICJQSzAxIjogIkdFVFNVUFBMSUVSUyIsICJQSzAyIjogIkVYQ0xVREVEQUNDT1VOVFMiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zMiwgY2FsbGJhY2syKTsNCg0KICAgIGFkZHJlc3NUeXBlc0xpc3QgPSBuZXcgQXJyYXlMaXN0IDwgU3RyaW5nID4gKCk7DQogICAgZGVmIGNhbGxiYWNrMyA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIGFkZHJlc3NUeXBlcyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGFkZHJlc3NUeXBlc0FycmF5ID0gYWRkcmVzc1R5cGVzLnNwbGl0KCc7Jyk7DQogICAgICAgIGFkZHJlc3NUeXBlc0FycmF5LmVhY2ggew0KICAgICAgICAgIHZhbHVlIC0+DQogICAgICAgICAgICBTdHJpbmcgYWRkcmVzc1R5cGUgPSB2YWx1ZTsNCiAgICAgICAgICBhZGRyZXNzVHlwZXNMaXN0LmFkZChhZGRyZXNzVHlwZSk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLmVycm9yKCJQbGVhc2UgbWFpbnRhaW4gcmVjb3JkIGluIENVR0VYMSBmb3IgQUREUkVTU1RZUEUiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zMyA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUU1VQUExJRVJTIiwgIlBLMDIiOiAiQUREUkVTU1RZUEUiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zMywgY2FsbGJhY2szKTsNCg0KICAgIGFkZHJlc3NJZHNMaXN0ID0gbmV3IEFycmF5TGlzdCA8IFN0cmluZyA+ICgpOw0KICAgIGRlZiBjYWxsYmFjazQgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIFN0cmluZyBhZGRyZXNzSWRzID0gcmVzdWx0cy5nZXQoJ0ExMjEnKTsNCiAgICAgICAgU3RyaW5nW10gYWRkcmVzc0lkc0FycmF5ID0gYWRkcmVzc0lkcy5zcGxpdCgnOycpOw0KICAgICAgICBhZGRyZXNzSWRzQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyBhZGRyZXNzSWQgPSB2YWx1ZTsNCiAgICAgICAgICBhZGRyZXNzSWRzTGlzdC5hZGQoYWRkcmVzc0lkKTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBBRERSRVNTSUQiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zNCA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUU1VQUExJRVJTIiwgIlBLMDIiOiAiQUREUkVTU0lEIl07DQogICAgbWlDYWxsZXIuY2FsbCgiQ1VTRVhUTUkiLCAiR2V0RmllbGRWYWx1ZSIsIHBhcmFtczQsIGNhbGxiYWNrNCk7DQogIH0NCg0KICAvKioNCiAgICogTGlzdCBhbGwgU3VwcGxpZXJzIHVzaW5nIENSUzYyME1JLkxzdFN1cHBsaWVycw0KICAgKiANCiAgICovDQogIHB1YmxpYyBnYXRoZXJBbGxTdXBwbGllcnMoKSB7DQogICAgc3VwcGxpZXJMaXN0ID0gbmV3IEFycmF5TGlzdCA8IEhhc2h0YWJsZSA+ICgpOw0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZTsNCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIFN0cmluZyBTVU5PID0gcmVzdWx0cy5nZXQoJ1NVTk8nKTsNCiAgICAgICAgU3RyaW5nIFNVTk0gPSByZXN1bHRzLmdldCgnU1VOTScpOw0KICAgICAgICBIYXNodGFibGUgdGVtcFRhYmxlID0gbmV3IEhhc2h0YWJsZSgpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdTVU5PJywgU1VOTy50cmltKCkpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdTVU5NJywgU1VOTS50cmltKCkpOw0KICAgICAgICBzdXBwbGllckxpc3QuYWRkKHRlbXBUYWJsZSk7DQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBDT05PLCAnRlJTVSc6IEZSU1VdOw0KICAgIG1pQ2FsbGVyLnNldExpc3RNYXhSZWNvcmRzKDIwMSk7DQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjIwTUkiLCAiTHN0U3VwcGxpZXJzIiwgcGFyYW1zLCBjYWxsYmFjayk7DQogIH0NCg0KICBwdWJsaWMgY2xlYXJTdXBwbGllckRldGFpbHNWYXJpYWJsZXMoKSB7DQogICAgU1RBVCA9ICIiOw0KICAgIFBITk8gPSAiIjsNCiAgICBDU0NEID0gIiI7DQogICAgVlJOTyA9ICIiOw0KICAgIFNVQ00gPSAiIjsNCiAgICBWVENEID0gIiI7DQogICAgVEVQWSA9ICIiOw0KICAgIFBZTUUgPSAiIjsNCiAgICBQUlNVID0gIiI7DQogICAgVEVDRCA9ICIiOw0KICAgIElBUEMgPSAiIjsNCiAgICBFTUFMID0gIiI7DQogICAgQURSMSA9ICIiOw0KICAgIEFEUjIgPSAiIjsNCiAgICBBRFIzID0gIiI7DQogICAgQURSNCA9ICIiOw0KICAgIFRPV04gPSAiIjsNCiAgICBFQ0FSID0gIiI7DQogICAgUE9OTyA9ICIiOw0KICAgIEFTQ0QgPSAiIjsNCiAgICBFREVTID0gIiI7DQogIH0NCg0KICAvKioNCiAgICogR2V0IEJhc2ljIGRldGFpbHMgZm9yIGVhY2ggc3VwcGxpZXINCiAgICogDQogICAqLw0KICBwdWJsaWMgZ2V0U3VwcGxpZXJEZXRhaWxzKEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIpIHsNCiAgICBTdHJpbmcgU1VOTyA9IGVhY2hTdXBwbGllci5nZXQoJ1NVTk8nKTsNCg0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZTsNCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIFNUQVQgPSByZXN1bHRzLmdldCgnU1RBVCcpOw0KICAgICAgICBQSE5PID0gcmVzdWx0cy5nZXQoJ1BITk8nKTsNCiAgICAgICAgQ1NDRCA9IHJlc3VsdHMuZ2V0KCdDU0NEJyk7DQogICAgICAgIFZSTk8gPSByZXN1bHRzLmdldCgnVlJOTycpOw0KICAgICAgICBTVUNNID0gcmVzdWx0cy5nZXQoJ1NVQ00nKTsNCiAgICAgICAgVlRDRCA9IHJlc3VsdHMuZ2V0KCdWVENEJyk7DQogICAgICAgIFRFUFkgPSByZXN1bHRzLmdldCgnVEVQWScpOw0KICAgICAgICBQWU1FID0gcmVzdWx0cy5nZXQoJ1BZTUUnKTsNCiAgICAgICAgUFJTVSA9IHJlc3VsdHMuZ2V0KCdQUlNVJykgIT0gbnVsbCAmJiAhcmVzdWx0cy5nZXQoJ1BSU1UnKS50cmltKCkuaXNCbGFuaygpID8gcmVzdWx0cy5nZXQoJ1BSU1UnKSA6IFNVTk87DQogICAgICAgIFRFQ0QgPSByZXN1bHRzLmdldCgnVEVDRCcpOw0KICAgICAgICBJQVBDID0gcmVzdWx0cy5nZXQoJ0lBUEMnKTsNCg0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zID0gWyJDT05PIjogQ09OTywgIlNVTk8iOiBTVU5PXTsNCiAgICAvLyBtaUNhbGxlci5zZXRMaXN0TWF4UmVjb3JkcygxNTAwMCk7DQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjIwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjayk7DQogIH0NCg0KICAvKioNCiAgICogR2V0IGVtYWlsIGFkZHJlc3MgZm9yIGVhY2ggc3VwcGxpZXINCiAgICogDQogICAqLw0KICBwdWJsaWMgZ2V0U3VwcGxpZXJFbWFpbChIYXNodGFibGUgZWFjaFN1cHBsaWVyKSB7DQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJyk7DQoNCiAgICBib29sZWFuIHJlY29yZEV4aXN0cyA9IHRydWU7DQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBFTUFMID0gcmVzdWx0cy5nZXQoJ0VNQUwnKTsNCg0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zID0gWyJFTVRQIjogIjAyIiwgIkVNS1kiOiBTVU5PXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDUlMxMTFNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBEZXBlbmQgdXBvbiBjb250cm9sIHByb3BlcnR5ICwgZ2V0IHN1cHBsaWVyIGFkZHJlc3MgZGV0YWlscw0KICAgKiANCiAgICovDQogIHB1YmxpYyBnZXRTdXBwbGllckFkZHJlc3MoSGFzaHRhYmxlIGVhY2hTdXBwbGllcikgew0KICAgIFN0cmluZyBTVU5PID0gZWFjaFN1cHBsaWVyLmdldCgnU1VOTycpOw0KDQogICAgYm9vbGVhbiByZWNvcmRFeGlzdHMgPSB0cnVlOw0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCg0KICAgICAgICBTdHJpbmcgQURURSA9ICIiOw0KICAgICAgICBTdHJpbmcgQURJRCA9ICIiOw0KICAgICAgICBBRFRFID0gcmVzdWx0cy5nZXQoJ0FEVEUnKTsNCiAgICAgICAgQURJRCA9IHJlc3VsdHMuZ2V0KCdBRElEJyk7DQogICAgICAgIEFEUjEgPSByZXN1bHRzLmdldCgnQURSMScpOw0KICAgICAgICBBRFIyID0gcmVzdWx0cy5nZXQoJ0FEUjInKTsNCiAgICAgICAgQURSMyA9IHJlc3VsdHMuZ2V0KCdBRFIzJyk7DQogICAgICAgIEFEUjQgPSByZXN1bHRzLmdldCgnQURSNCcpOw0KICAgICAgICBUT1dOID0gcmVzdWx0cy5nZXQoJ1RPV04nKTsNCiAgICAgICAgRUNBUiA9IHJlc3VsdHMuZ2V0KCdFQ0FSJyk7DQogICAgICAgIFBPTk8gPSByZXN1bHRzLmdldCgnUE9OTycpOw0KICAgICAgICBBU0NEID0gcmVzdWx0cy5nZXQoJ0NTQ0QnKTsNCiAgICAgICAgRURFUyA9IHJlc3VsdHMuZ2V0KCdFREVTJyk7DQoNCiAgICAgICAgSGFzaHRhYmxlIHRlbXBUYWJsZSA9IG5ldyBIYXNodGFibGUoKTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQURURScsIEFEVEUpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdBRElEJywgQURJRCk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0FEUjEnLCBBRFIxKTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQURSMicsIEFEUjIpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdBRFIzJywgQURSMyk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0FEUjQnLCBBRFI0KTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnVE9XTicsIFRPV04pOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdFQ0FSJywgRUNBUik7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ1BPTk8nLCBQT05PKTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQ1NDRCcsIENTQ0QpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdFREVTJywgRURFUyk7DQogICAgICAgIEFkZHJlc3NMaXN0LmFkZCh0ZW1wVGFibGUpOw0KDQogICAgICAgIC8qaWYoYWRkcmVzc1R5cGVzTGlzdC5jb250YWlucyhBRFRFLnRyaW0oKSkgJiYgYWRkcmVzc0lkc0xpc3QuY29udGFpbnMoQURJRC50cmltKCkpKXsNCiAgICAgICAgICAgQURSMT1yZXN1bHRzLmdldCgnQURSMScpOw0KICAgICAgICAgICBBRFIyPXJlc3VsdHMuZ2V0KCdBRFIyJyk7DQogICAgICAgICAgIEFEUjM9cmVzdWx0cy5nZXQoJ0FEUjMnKTsNCiAgICAgICAgICAgQURSND1yZXN1bHRzLmdldCgnQURSNCcpOw0KICAgICAgICAgICBUT1dOPXJlc3VsdHMuZ2V0KCdUT1dOJyk7DQogICAgICAgICAgIEVDQVI9cmVzdWx0cy5nZXQoJ0VDQVInKTsNCiAgICAgICAgICAgUE9OTz1yZXN1bHRzLmdldCgnUE9OTycpOyANCiAgICAgICAgICAgQVNDRD1yZXN1bHRzLmdldCgnQ1NDRCcpOw0KICAgICAgICAgICBFREVTPXJlc3VsdHMuZ2V0KCdFREVTJyk7DQogICAgICAgIH0gKi8NCg0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zID0gWyJTVU5PIjogU1VOT107DQogICAgbWlDYWxsZXIuc2V0TGlzdE1heFJlY29yZHMoNTApOw0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzYyME1JIiwgIkxzdEFkZHJlc3NlcyIsIHBhcmFtcywgY2FsbGJhY2spOw0KICB9DQoNCiAgcHVibGljIHNldGFkZHJlc3MoKSB7DQogICAgQWRkcmVzc0xpc3QuZWFjaCB7DQogICAgICB2YWx1ZSAtPg0KICAgICAgICBIYXNodGFibGUgZWFjaEFkZHJlc3NMaXN0ID0gdmFsdWU7DQogICAgICBzZXRBZGRyZXNzRGV0YWlscyhlYWNoQWRkcmVzc0xpc3QpOw0KICAgIH0NCiAgfQ0KDQogIC8qIHNldCB0aGUgYWRkcmVzcyBkZXRhaWxzIGluIG91dHB1dCB2ZXJpYWJsZXMgKi8NCg0KICBwdWJsaWMgc2V0QWRkcmVzc0RldGFpbHMoSGFzaHRhYmxlIGVhY2hBZGRyZXNzTGlzdCkgew0KDQogICAgU3RyaW5nIHRlbXBBRFRFID0gZWFjaEFkZHJlc3NMaXN0LmdldCgnQURURScpOw0KICAgIFN0cmluZyB0ZW1wQURJRCA9IGVhY2hBZGRyZXNzTGlzdC5nZXQoJ0FESUQnKTsNCiAgICBTdHJpbmcgdGVtcEFEUjEgPSBlYWNoQWRkcmVzc0xpc3QuZ2V0KCdBRFIxJyk7DQogICAgU3RyaW5nIHRlbXBBRFIyID0gZWFjaEFkZHJlc3NMaXN0LmdldCgnQURSMicpOw0KICAgIFN0cmluZyB0ZW1wQURSMyA9IGVhY2hBZGRyZXNzTGlzdC5nZXQoJ0FEUjMnKTsNCiAgICBTdHJpbmcgdGVtcEFEUjQgPSBlYWNoQWRkcmVzc0xpc3QuZ2V0KCdBRFI0Jyk7DQogICAgU3RyaW5nIHRlbXBUT1dOID0gZWFjaEFkZHJlc3NMaXN0LmdldCgnVE9XTicpOw0KICAgIFN0cmluZyB0ZW1wRUNBUiA9IGVhY2hBZGRyZXNzTGlzdC5nZXQoJ0VDQVInKTsNCiAgICBTdHJpbmcgdGVtcFBPTk8gPSBlYWNoQWRkcmVzc0xpc3QuZ2V0KCdQT05PJyk7DQogICAgU3RyaW5nIHRlbXBDU0NEID0gZWFjaEFkZHJlc3NMaXN0LmdldCgnQ1NDRCcpOw0KICAgIFN0cmluZyB0ZW1wRURFUyA9IGVhY2hBZGRyZXNzTGlzdC5nZXQoJ0VERVMnKTsNCg0KICAgIGlmIChhZGRyZXNzVHlwZXNMaXN0LmNvbnRhaW5zKHRlbXBBRFRFLnRyaW0oKSkgJiYgYWRkcmVzc0lkc0xpc3QuY29udGFpbnModGVtcEFESUQudHJpbSgpKSkgew0KICAgICAgQURSMSA9IGVhY2hBZGRyZXNzTGlzdC5nZXQoJ0FEUjEnKTsNCiAgICAgIEFEUjIgPSBlYWNoQWRkcmVzc0xpc3QuZ2V0KCdBRFIyJyk7DQogICAgICBBRFIzID0gZWFjaEFkZHJlc3NMaXN0LmdldCgnQURSMycpOw0KICAgICAgQURSNCA9IGVhY2hBZGRyZXNzTGlzdC5nZXQoJ0FEUjQnKTsNCiAgICAgIFRPV04gPSBlYWNoQWRkcmVzc0xpc3QuZ2V0KCdUT1dOJyk7DQogICAgICBFQ0FSID0gZWFjaEFkZHJlc3NMaXN0LmdldCgnRUNBUicpOw0KICAgICAgUE9OTyA9IGVhY2hBZGRyZXNzTGlzdC5nZXQoJ1BPTk8nKTsNCiAgICAgIENTQ0QgPSBlYWNoQWRkcmVzc0xpc3QuZ2V0KCdDU0NEJyk7DQogICAgICBFREVTID0gZWFjaEFkZHJlc3NMaXN0LmdldCgnRURFUycpOw0KICAgIH0NCg0KICB9DQoNCiAgcHVibGljIHdyaXRlU3VwcGxpZXJUb091dHB1dChIYXNodGFibGUgZWFjaFN1cHBsaWVyKSB7DQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJyk7DQogICAgU3RyaW5nIFNVTk0gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5NJyk7DQoNCiAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdIJyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0RJVkknLCAiIik7DQogICAgbWkub3V0RGF0YS5wdXQoJ1NVTk8nLCBTVU5PKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnU1VOTScsIFNVTk0pOw0KICAgIG1pLm91dERhdGEucHV0KCdQSE5PJywgUEhOTyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1RFUFknLCBURVBZKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnVEVDRCcsIFRFQ0QpOw0KICAgIG1pLm91dERhdGEucHV0KCdQWU1FJywgUFlNRSk7DQoNCiAgICBpZiAoVlRDRC50cmltKCkubGVuZ3RoKCkgPT0gMSkgew0KICAgICAgLy9sb2dnZXIuaW5mbygiSW5wdXRzOiAiICsgVlRDRC5sZW5ndGgoKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnVlRDRCcsICIwIiArIFZUQ0QudG9TdHJpbmcoKSk7DQogICAgfSBlbHNlIHsNCiAgICAgIC8vbG9nZ2VyLmluZm8oIklucHV0czE6ICIgKyBWVENELmxlbmd0aCgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdWVENEJywgVlRDRCk7DQogICAgfQ0KICAgIG1pLm91dERhdGEucHV0KCdDU0NEJywgQ1NDRCk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1NUQVQnLCBTVEFUKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnVlJOTycsIFZSTk8pOw0KICAgIG1pLm91dERhdGEucHV0KCdFTUFMJywgRU1BTCk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1BSU1UnLCBQUlNVKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnU1VDTScsIFNVQ00pOw0KICAgIG1pLm91dERhdGEucHV0KCdBRFIxJywgQURSMSk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0FEUjInLCBBRFIyKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnQURSMycsIEFEUjMpOw0KICAgIG1pLm91dERhdGEucHV0KCdBRFI0JywgQURSNCk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0FTQ0QnLCBBU0NEKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnUE9OTycsIFBPTk8pOw0KICAgIG1pLm91dERhdGEucHV0KCdFREVTJywgRURFUyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1RPV04nLCBUT1dOKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnRUNBUicsIEVDQVIpOw0KICAgIG1pLm91dERhdGEucHV0KCdJQVBDJywgSUFQQyk7DQogICAgbWkud3JpdGUoKTsNCg0KICB9DQoNCiAgLyoqDQogICAqIERlcGVuZCB1cG9uIGNvbnRyb2wgcHJvcGVydHkgLCBnZXQgc3VwcGxpZXIgYmFuayBkZXRhaWxzDQogICAqIA0KICAgKi8NCg0KICBwdWJsaWMgZ2V0QmFua0RldGFpbHMoSGFzaHRhYmxlIGVhY2hTdXBwbGllcikgew0KDQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJyk7DQogICAgU3RyaW5nIFNVTk0gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5NJyk7DQoNCiAgICBib29sZWFuIHJlY29yZEV4aXN0cyA9IHRydWU7DQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgU1RBVCA9IHJlc3VsdHMuZ2V0KCdTVEFUJyk7DQogICAgICAgIFN0cmluZyBESVZJID0gcmVzdWx0cy5nZXQoJ0RJVkknKTsNCiAgICAgICAgU3RyaW5nIEJLSUQgPSByZXN1bHRzLmdldCgnQktJRCcpOw0KICAgICAgICBTdHJpbmcgQUNITyA9IHJlc3VsdHMuZ2V0KCdBQ0hPJyk7DQogICAgICAgIFN0cmluZyBDQlBZID0gcmVzdWx0cy5nZXQoJ0NCUFknKTsNCiAgICAgICAgU3RyaW5nIEZJQU4gPSByZXN1bHRzLmdldCgnRklBTicpOw0KICAgICAgICBTdHJpbmcgSUJBTiA9IHJlc3VsdHMuZ2V0KCdJQkFOJyk7DQogICAgICAgIFN0cmluZyBCQUYxID0gcmVzdWx0cy5nZXQoJ0JBRjEnKTsNCiAgICAgICAgYm9vbGVhbiB0ZXN0ID0gYmFua0FjY291bnRTdGF0dXNMaXN0LmNvbnRhaW5zKFNUQVQudHJpbSgpKTsNCg0KICAgICAgICBpZiAoYmFua0FjY291bnRTdGF0dXNMaXN0LmNvbnRhaW5zKFNUQVQpICYmICFleGNsdWRlZEFjY291bnRzTGlzdC5jb250YWlucyhCS0lELnRyaW0oKSkgJiYgKERpdmlzaW9uTGlzdC5pc0VtcHR5KCkgfHwgRGl2aXNpb25MaXN0LnRyaW0oKS5lcXVhbHMoIjEiKSB8fCBEaXZpc2lvbkxpc3QuY29udGFpbnMoRElWSS50cmltKCkpKSkgew0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdSQ1RQJywgIkIiKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnRElWSScsICIiKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnU1VOTycsIFNVTk8pOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdTVU5NJywgU1VOTSk7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0JLSUQnLCBCS0lEKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnQkRJVicsIERJVkkpOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdCS1NUJywgU1RBVCk7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0NCUFknLCBDQlBZKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnRklBTicsIEZJQU4pOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdJQkFOJywgSUJBTik7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0JBRjEnLCBCQUYxKTsNCiAgICAgICAgICBtaS53cml0ZSgpOw0KICAgICAgICB9DQoNCiAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBkZWYgcGFyYW1zID0gWyJCS1RQIjoiMDMiLCAiQUNITyI6UFJTVS50cmltKCldOw0KICAgIGRlZiBwYXJhbXMgPSBbIkJLVFAiOiAiMDMiLCAiQUNITyI6IFNVTk9dOw0KICAgIC8vIG1pQ2FsbGVyLnNldExpc3RNYXhSZWNvcmRzKDIwMDAwKTsNCiAgICBtaUNhbGxlci5jYWxsKCJDUlM2OTJNSSIsICJMc3RCeUFjY0hvbGRlciIsIHBhcmFtcywgY2FsbGJhY2spOw0KDQogIH0NCg0KfQ=="}}}